library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.NUMERIC_STD.ALL;

package cnn_cfg_pkg is
  --Fixed point dimensions
  constant Q_INT : integer := 1;
  constant Q_FRAC : integer := 14;
  -- Image dimensions
  constant IMG_WIDTH   : integer := 64;
  constant IMG_HEIGHT  : integer := 64;
  constant IMG_SIZE    : integer := IMG_WIDTH * IMG_HEIGHT;

  -- Data width (e.g., 8-bit grayscale pixels)
  constant DATA_WIDTH  : integer := 8;

  -- !!!!!CHANGE OR LOOK AT IT EVERYTIME YOU CHANGE THE BRAM DEPTH
  constant ADDR_WIDTH  : integer := 13;  -- 2^12 = 4096 (covers 64x64)

  -- UART configuration
  constant CLK_FREQ    : integer := 100_000_000;
  constant BAUD_RATE   : integer := 115200;
  constant CMD_WRITE_IMAGE  : std_logic_vector(7 downto 0) := x"10";
  constant CMD_READ_IMAGE   : std_logic_vector(7 downto 0) := x"20";
  -- weights declaration
  type weights_array is array(0 to 9, 0 to 63) of signed(15 downto 0);
  type bias_array    is array(0 to 9) of signed(15 downto 0);
constant L2_WEIGHTS : weights_array := (
  0 => (to_signed(470,16), to_signed(-2148,16), to_signed(366,16), to_signed(1870,16), to_signed(583,16), to_signed(-278,16), to_signed(1910,16), to_signed(485,16), to_signed(2406,16), to_signed(-393,16), to_signed(-503,16), to_signed(736,16), to_signed(1426,16), to_signed(-20,16), to_signed(1319,16), to_signed(-916,16), to_signed(-110,16), to_signed(1151,16), to_signed(-490,16), to_signed(1233,16), to_signed(-1538,16), to_signed(-2212,16), to_signed(-2884,16), to_signed(43,16), to_signed(187,16), to_signed(1266,16), to_signed(-379,16), to_signed(1180,16), to_signed(2514,16), to_signed(1544,16), to_signed(417,16), to_signed(1173,16), to_signed(1548,16), to_signed(-2560,16), to_signed(1046,16), to_signed(-3512,16), to_signed(-1133,16), to_signed(-210,16), to_signed(-58,16), to_signed(-1201,16), to_signed(-1061,16), to_signed(-778,16), to_signed(138,16), to_signed(2433,16), to_signed(-292,16), to_signed(-1678,16), to_signed(-2156,16), to_signed(-171,16), to_signed(1382,16), to_signed(355,16), to_signed(-1929,16), to_signed(2920,16), to_signed(-1165,16), to_signed(2142,16), to_signed(2649,16), to_signed(-1358,16), to_signed(-1905,16), to_signed(1754,16), to_signed(-170,16), to_signed(1498,16), to_signed(1055,16), to_signed(1372,16), to_signed(-974,16), to_signed(-1348,16)),
  1 => (to_signed(572,16), to_signed(-296,16), to_signed(-2632,16), to_signed(-2476,16), to_signed(933,16), to_signed(973,16), to_signed(1950,16), to_signed(3151,16), to_signed(-226,16), to_signed(-1027,16), to_signed(1135,16), to_signed(1478,16), to_signed(-804,16), to_signed(582,16), to_signed(2977,16), to_signed(1830,16), to_signed(1279,16), to_signed(-355,16), to_signed(408,16), to_signed(1151,16), to_signed(2361,16), to_signed(-1739,16), to_signed(-1682,16), to_signed(1648,16), to_signed(413,16), to_signed(1974,16), to_signed(2038,16), to_signed(-119,16), to_signed(1317,16), to_signed(-1487,16), to_signed(-624,16), to_signed(-441,16), to_signed(923,16), to_signed(-147,16), to_signed(-1503,16), to_signed(-1426,16), to_signed(720,16), to_signed(2501,16), to_signed(-2010,16), to_signed(2037,16), to_signed(-2728,16), to_signed(-1808,16), to_signed(-1796,16), to_signed(1749,16), to_signed(1822,16), to_signed(1583,16), to_signed(-2947,16), to_signed(303,16), to_signed(-1372,16), to_signed(-1466,16), to_signed(-533,16), to_signed(-2147,16), to_signed(285,16), to_signed(-1413,16), to_signed(-983,16), to_signed(3284,16), to_signed(469,16), to_signed(701,16), to_signed(-1456,16), to_signed(-286,16), to_signed(-266,16), to_signed(547,16), to_signed(629,16), to_signed(-998,16)),
  2 => (to_signed(-1843,16), to_signed(609,16), to_signed(-1540,16), to_signed(1986,16), to_signed(-1981,16), to_signed(-766,16), to_signed(2170,16), to_signed(1513,16), to_signed(-146,16), to_signed(1629,16), to_signed(2137,16), to_signed(875,16), to_signed(1978,16), to_signed(1303,16), to_signed(266,16), to_signed(286,16), to_signed(2034,16), to_signed(1394,16), to_signed(-1419,16), to_signed(1333,16), to_signed(-2214,16), to_signed(-2354,16), to_signed(-977,16), to_signed(-800,16), to_signed(2231,16), to_signed(-1349,16), to_signed(-123,16), to_signed(588,16), to_signed(581,16), to_signed(-1662,16), to_signed(522,16), to_signed(830,16), to_signed(-36,16), to_signed(290,16), to_signed(576,16), to_signed(-1086,16), to_signed(-1088,16), to_signed(-1818,16), to_signed(1013,16), to_signed(1793,16), to_signed(-1325,16), to_signed(-2781,16), to_signed(-2760,16), to_signed(-111,16), to_signed(391,16), to_signed(480,16), to_signed(-1166,16), to_signed(2448,16), to_signed(-2333,16), to_signed(795,16), to_signed(-980,16), to_signed(-1138,16), to_signed(-19,16), to_signed(-2393,16), to_signed(-70,16), to_signed(-2206,16), to_signed(1351,16), to_signed(1792,16), to_signed(896,16), to_signed(346,16), to_signed(1505,16), to_signed(-917,16), to_signed(-2484,16), to_signed(1457,16)),
  3 => (to_signed(1496,16), to_signed(133,16), to_signed(1755,16), to_signed(-1263,16), to_signed(-178,16), to_signed(1380,16), to_signed(-1915,16), to_signed(-89,16), to_signed(-5,16), to_signed(1985,16), to_signed(627,16), to_signed(1630,16), to_signed(-1703,16), to_signed(-2388,16), to_signed(12,16), to_signed(-1566,16), to_signed(1328,16), to_signed(2370,16), to_signed(269,16), to_signed(-664,16), to_signed(-283,16), to_signed(-137,16), to_signed(545,16), to_signed(-1199,16), to_signed(-3784,16), to_signed(1265,16), to_signed(433,16), to_signed(2381,16), to_signed(707,16), to_signed(1407,16), to_signed(-1545,16), to_signed(-80,16), to_signed(1960,16), to_signed(1357,16), to_signed(683,16), to_signed(-442,16), to_signed(-1515,16), to_signed(-2101,16), to_signed(-724,16), to_signed(-500,16), to_signed(1234,16), to_signed(-189,16), to_signed(-1295,16), to_signed(-1683,16), to_signed(1150,16), to_signed(-332,16), to_signed(1513,16), to_signed(-1906,16), to_signed(-30,16), to_signed(-329,16), to_signed(-769,16), to_signed(-1734,16), to_signed(-2491,16), to_signed(-2435,16), to_signed(-755,16), to_signed(1042,16), to_signed(-1348,16), to_signed(369,16), to_signed(1335,16), to_signed(-1781,16), to_signed(1546,16), to_signed(-1955,16), to_signed(-2084,16), to_signed(1864,16)),
  4 => (to_signed(-1474,16), to_signed(-1533,16), to_signed(756,16), to_signed(1765,16), to_signed(831,16), to_signed(1397,16), to_signed(921,16), to_signed(511,16), to_signed(1002,16), to_signed(607,16), to_signed(648,16), to_signed(-154,16), to_signed(-419,16), to_signed(1949,16), to_signed(-1961,16), to_signed(-2218,16), to_signed(328,16), to_signed(-1105,16), to_signed(573,16), to_signed(449,16), to_signed(-1082,16), to_signed(-212,16), to_signed(-806,16), to_signed(-955,16), to_signed(-2699,16), to_signed(-2022,16), to_signed(1993,16), to_signed(-2981,16), to_signed(-1162,16), to_signed(588,16), to_signed(-1665,16), to_signed(-1585,16), to_signed(-947,16), to_signed(319,16), to_signed(1521,16), to_signed(1110,16), to_signed(-1113,16), to_signed(1706,16), to_signed(859,16), to_signed(-447,16), to_signed(-2206,16), to_signed(-200,16), to_signed(-548,16), to_signed(709,16), to_signed(-1385,16), to_signed(1735,16), to_signed(1818,16), to_signed(-8,16), to_signed(1845,16), to_signed(1203,16), to_signed(1880,16), to_signed(1042,16), to_signed(666,16), to_signed(-624,16), to_signed(-498,16), to_signed(2569,16), to_signed(1934,16), to_signed(-1038,16), to_signed(-870,16), to_signed(-1967,16), to_signed(-343,16), to_signed(-1566,16), to_signed(1661,16), to_signed(-436,16)),
  5 => (to_signed(1334,16), to_signed(2550,16), to_signed(-1946,16), to_signed(-708,16), to_signed(1714,16), to_signed(-2722,16), to_signed(1269,16), to_signed(877,16), to_signed(-298,16), to_signed(-2109,16), to_signed(-1173,16), to_signed(-6557,16), to_signed(-4290,16), to_signed(563,16), to_signed(-1183,16), to_signed(2247,16), to_signed(-4691,16), to_signed(2565,16), to_signed(945,16), to_signed(-3396,16), to_signed(468,16), to_signed(-281,16), to_signed(1485,16), to_signed(712,16), to_signed(-2203,16), to_signed(-1112,16), to_signed(-578,16), to_signed(-4326,16), to_signed(2926,16), to_signed(-1732,16), to_signed(194,16), to_signed(-1576,16), to_signed(-3111,16), to_signed(-1586,16), to_signed(102,16), to_signed(-679,16), to_signed(373,16), to_signed(-656,16), to_signed(-4979,16), to_signed(2424,16), to_signed(-259,16), to_signed(279,16), to_signed(-244,16), to_signed(2044,16), to_signed(231,16), to_signed(-2435,16), to_signed(486,16), to_signed(-1373,16), to_signed(-2415,16), to_signed(1287,16), to_signed(-1048,16), to_signed(-2505,16), to_signed(383,16), to_signed(3314,16), to_signed(822,16), to_signed(-1082,16), to_signed(1821,16), to_signed(1167,16), to_signed(830,16), to_signed(1164,16), to_signed(1211,16), to_signed(2047,16), to_signed(1632,16), to_signed(2153,16)),
  6 => (to_signed(2170,16), to_signed(-1561,16), to_signed(333,16), to_signed(-823,16), to_signed(148,16), to_signed(-1991,16), to_signed(-1470,16), to_signed(-1520,16), to_signed(-1928,16), to_signed(2166,16), to_signed(515,16), to_signed(-326,16), to_signed(913,16), to_signed(1153,16), to_signed(-1726,16), to_signed(2200,16), to_signed(-829,16), to_signed(333,16), to_signed(2424,16), to_signed(1561,16), to_signed(-374,16), to_signed(1829,16), to_signed(-2804,16), to_signed(-1906,16), to_signed(-1568,16), to_signed(-2203,16), to_signed(-1552,16), to_signed(-1524,16), to_signed(-1853,16), to_signed(2314,16), to_signed(-2372,16), to_signed(1764,16), to_signed(1099,16), to_signed(1649,16), to_signed(-1011,16), to_signed(-1052,16), to_signed(-1045,16), to_signed(-1825,16), to_signed(-339,16), to_signed(-263,16), to_signed(-3311,16), to_signed(-1631,16), to_signed(202,16), to_signed(-870,16), to_signed(1414,16), to_signed(1355,16), to_signed(796,16), to_signed(-1751,16), to_signed(-1749,16), to_signed(412,16), to_signed(1489,16), to_signed(1550,16), to_signed(1492,16), to_signed(-716,16), to_signed(-864,16), to_signed(1232,16), to_signed(376,16), to_signed(101,16), to_signed(1543,16), to_signed(2219,16), to_signed(-700,16), to_signed(311,16), to_signed(357,16), to_signed(1317,16)),
  7 => (to_signed(-2853,16), to_signed(-2320,16), to_signed(1848,16), to_signed(1680,16), to_signed(1644,16), to_signed(1975,16), to_signed(1721,16), to_signed(-2680,16), to_signed(-177,16), to_signed(-105,16), to_signed(-2133,16), to_signed(-168,16), to_signed(816,16), to_signed(276,16), to_signed(-1179,16), to_signed(313,16), to_signed(496,16), to_signed(-2155,16), to_signed(491,16), to_signed(636,16), to_signed(-3177,16), to_signed(650,16), to_signed(-513,16), to_signed(1592,16), to_signed(577,16), to_signed(-1063,16), to_signed(-1904,16), to_signed(1595,16), to_signed(318,16), to_signed(-1918,16), to_signed(-625,16), to_signed(-3766,16), to_signed(-4129,16), to_signed(506,16), to_signed(1413,16), to_signed(-187,16), to_signed(-1838,16), to_signed(-2097,16), to_signed(35,16), to_signed(-495,16), to_signed(1627,16), to_signed(-2945,16), to_signed(-257,16), to_signed(-1599,16), to_signed(-1652,16), to_signed(-2295,16), to_signed(-1382,16), to_signed(804,16), to_signed(2493,16), to_signed(672,16), to_signed(-1130,16), to_signed(1428,16), to_signed(-979,16), to_signed(-243,16), to_signed(-3340,16), to_signed(-2051,16), to_signed(-4211,16), to_signed(-1376,16), to_signed(-1686,16), to_signed(-787,16), to_signed(-3353,16), to_signed(2120,16), to_signed(1301,16), to_signed(112,16)),
  8 => (to_signed(-860,16), to_signed(-1116,16), to_signed(1399,16), to_signed(453,16), to_signed(-392,16), to_signed(306,16), to_signed(531,16), to_signed(-1146,16), to_signed(-2518,16), to_signed(-1983,16), to_signed(188,16), to_signed(1302,16), to_signed(-1145,16), to_signed(34,16), to_signed(765,16), to_signed(-770,16), to_signed(552,16), to_signed(-481,16), to_signed(-1483,16), to_signed(-223,16), to_signed(-2851,16), to_signed(315,16), to_signed(916,16), to_signed(1380,16), to_signed(193,16), to_signed(-218,16), to_signed(-1522,16), to_signed(-219,16), to_signed(-609,16), to_signed(-867,16), to_signed(847,16), to_signed(200,16), to_signed(-1916,16), to_signed(1274,16), to_signed(-836,16), to_signed(282,16), to_signed(-974,16), to_signed(-1451,16), to_signed(823,16), to_signed(-561,16), to_signed(168,16), to_signed(1927,16), to_signed(629,16), to_signed(-664,16), to_signed(1330,16), to_signed(-3022,16), to_signed(2329,16), to_signed(1696,16), to_signed(1808,16), to_signed(1312,16), to_signed(1113,16), to_signed(-472,16), to_signed(804,16), to_signed(1683,16), to_signed(-2053,16), to_signed(659,16), to_signed(-2435,16), to_signed(1619,16), to_signed(-866,16), to_signed(1578,16), to_signed(-354,16), to_signed(-1231,16), to_signed(-1055,16), to_signed(2367,16)),
  9 => (to_signed(125,16), to_signed(1152,16), to_signed(1534,16), to_signed(-1889,16), to_signed(-956,16), to_signed(-3947,16), to_signed(463,16), to_signed(-3042,16), to_signed(1422,16), to_signed(2066,16), to_signed(3036,16), to_signed(-2308,16), to_signed(-357,16), to_signed(-3159,16), to_signed(-1968,16), to_signed(966,16), to_signed(-644,16), to_signed(27,16), to_signed(-2165,16), to_signed(-1187,16), to_signed(828,16), to_signed(1431,16), to_signed(2182,16), to_signed(-482,16), to_signed(1926,16), to_signed(1590,16), to_signed(-3162,16), to_signed(-1583,16), to_signed(-1905,16), to_signed(-1080,16), to_signed(-1768,16), to_signed(1535,16), to_signed(456,16), to_signed(2208,16), to_signed(1809,16), to_signed(-1269,16), to_signed(2194,16), to_signed(-693,16), to_signed(-384,16), to_signed(2338,16), to_signed(-72,16), to_signed(300,16), to_signed(2058,16), to_signed(-1364,16), to_signed(-3007,16), to_signed(52,16), to_signed(-1759,16), to_signed(462,16), to_signed(-1768,16), to_signed(-1776,16), to_signed(-1614,16), to_signed(1465,16), to_signed(-1776,16), to_signed(-355,16), to_signed(-686,16), to_signed(714,16), to_signed(-1148,16), to_signed(30,16), to_signed(-1384,16), to_signed(2031,16), to_signed(-348,16), to_signed(1317,16), to_signed(-758,16), to_signed(7,16))
);


  -- second-layer biases (Q1.14) auto-generated
constant L2_BIASES : bias_array := (
  0 => to_signed(46,16),
  1 => to_signed(-1092,16),
  2 => to_signed(528,16),
  3 => to_signed(-1541,16),
  4 => to_signed(-2435,16),
  5 => to_signed(2366,16),
  6 => to_signed(2647,16),
  7 => to_signed(388,16),
  8 => to_signed(1642,16),
  9 => to_signed(1010,16)
);


end package;
